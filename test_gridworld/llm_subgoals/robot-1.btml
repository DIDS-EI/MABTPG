fallback
    condition IsNear(ball-0,ball-1)
    sequence
        fallback
            condition IsHolding(agent-1,ball-0) & IsInRoom(agent-1,1)
            sequence
                fallback
                    condition IsHolding(agent-1,ball-0) & IsInRoom(agent-1,0) & IsOpen(door-0)
                    sequence
                        fallback
                            condition IsHandEmpty(agent-1) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0) & IsOpen(door-0)
                            sequence
                                fallback
                                    condition CanGoTo(ball-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,0) & IsOpen(door-0)
                                    sequence
                                        fallback
                                            condition CanGoTo(ball-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,1) & IsOpen(door-0)
                                            sequence
                                                fallback
                                                    condition CanGoTo(ball-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,1) & IsOpen(door-0)
                                                    sequence
                                                        fallback
                                                            condition CanGoTo(ball-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,1) & IsNear(agent-1,door-0)
                                                            sequence
                                                                condition CanGoTo(ball-0) & CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,1)
                                                                action GoToInRoom(agent-1,door-0,1)
                                                        action Toggle(agent-1,door-0)
                                                action PutInRoom(agent-1,key-0,1)
                                            sequence
                                                fallback
                                                    condition CanGoTo(ball-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,1) & IsOpen(door-0)
                                                    sequence
                                                        fallback
                                                            condition CanGoTo(ball-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,1) & IsNear(agent-1,door-0)
                                                            sequence
                                                                condition CanGoTo(ball-0) & CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,1)
                                                                action GoToInRoom(agent-1,door-0,1)
                                                        action Toggle(agent-1,door-0)
                                                action PutInRoom(agent-1,ball-1,1)
                                            sequence
                                                fallback
                                                    condition CanGoTo(ball-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,1) & IsNear(agent-1,door-0)
                                                    sequence
                                                        condition CanGoTo(ball-0) & CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,1)
                                                        action GoToInRoom(agent-1,door-0,1)
                                                action Toggle(agent-1,door-0)
                                        action GoBtwRoom(agent-1,1,0)
                                    sequence
                                        fallback
                                            condition CanGoTo(ball-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,0) & IsOpen(door-0)
                                            sequence
                                                fallback
                                                    condition CanGoTo(ball-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,0) & IsNear(agent-1,door-0)
                                                    sequence
                                                        condition CanGoTo(ball-0) & CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,0)
                                                        action GoToInRoom(agent-1,door-0,0)
                                                action Toggle(agent-1,door-0)
                                        action PutInRoom(agent-1,key-0,0)
                                    sequence
                                        fallback
                                            condition CanGoTo(ball-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,0) & IsOpen(door-0)
                                            sequence
                                                fallback
                                                    condition CanGoTo(ball-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,0) & IsNear(agent-1,door-0)
                                                    sequence
                                                        condition CanGoTo(ball-0) & CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,0)
                                                        action GoToInRoom(agent-1,door-0,0)
                                                action Toggle(agent-1,door-0)
                                        action PutInRoom(agent-1,ball-1,0)
                                    sequence
                                        fallback
                                            condition CanGoTo(ball-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,0) & IsNear(agent-1,door-0)
                                            sequence
                                                fallback
                                                    condition CanGoTo(ball-0) & CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,0)
                                                    sequence
                                                        fallback
                                                            condition CanGoTo(ball-0) & CanGoTo(door-0) & IsClose(door-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,0) & IsNear(agent-1,key-0)
                                                            sequence
                                                                fallback
                                                                    condition CanGoTo(ball-0) & CanGoTo(door-0) & CanGoTo(key-0) & IsClose(door-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,0)
                                                                    sequence
                                                                        fallback
                                                                            condition CanGoTo(door-0) & CanGoTo(key-0) & IsClose(door-0) & IsHolding(agent-1,ball-0) & IsInRoom(agent-1,0)
                                                                            sequence
                                                                                fallback
                                                                                    condition CanGoTo(door-0) & CanGoTo(key-0) & IsClose(door-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                                                                                    sequence
                                                                                        condition CanGoTo(door-0) & IsClose(door-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                                                                                        action PutInRoom(agent-1,key-0,0)
                                                                                    sequence
                                                                                        condition CanGoTo(door-0) & CanGoTo(key-0) & IsClose(door-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                                                                                        action PutInRoom(agent-1,ball-1,0)
                                                                                action PickUp(agent-1,ball-0)
                                                                        action PutInRoom(agent-1,ball-0,0)
                                                                    sequence
                                                                        condition CanGoTo(ball-0) & CanGoTo(door-0) & CanGoTo(key-0) & IsClose(door-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,0)
                                                                        action PutInRoom(agent-1,ball-1,0)
                                                                action GoToInRoom(agent-1,key-0,0)
                                                            sequence
                                                                condition CanGoTo(ball-0) & CanGoTo(door-0) & IsClose(door-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,0)
                                                                action PutInRoom(agent-1,key-0,0)
                                                            sequence
                                                                condition CanGoTo(door-0) & IsClose(door-0) & IsHolding(agent-1,ball-0) & IsInRoom(agent-1,0) & IsNear(agent-1,key-0)
                                                                action PutInRoom(agent-1,ball-0,0)
                                                            sequence
                                                                condition CanGoTo(ball-0) & CanGoTo(door-0) & IsClose(door-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,0) & IsNear(agent-1,key-0)
                                                                action PutInRoom(agent-1,ball-1,0)
                                                        action PickUp(agent-1,key-0)
                                                action GoToInRoom(agent-1,door-0,0)
                                        action Toggle(agent-1,door-0)
                                action GoToInRoom(agent-1,ball-0,0)
                            sequence
                                condition IsHolding(agent-1,key-0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0) & IsOpen(door-0)
                                action PutInRoom(agent-1,key-0,0)
                            sequence
                                condition IsHolding(agent-1,ball-1) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0) & IsOpen(door-0)
                                action PutInRoom(agent-1,ball-1,0)
                        action PickUp(agent-1,ball-0)
                    sequence
                        fallback
                            condition CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,ball-0) & IsInRoom(agent-1,0) & IsNear(agent-1,door-0)
                            sequence
                                fallback
                                    condition CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,ball-0) & IsInRoom(agent-1,0)
                                    sequence
                                        fallback
                                            condition CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHandEmpty(agent-1) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                                            sequence
                                                condition CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,key-0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                                                action PutInRoom(agent-1,key-0,0)
                                            sequence
                                                condition CanGoTo(door-0) & CanOpen(agent-1,door-0) & IsClose(door-0) & IsHolding(agent-1,ball-1) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                                                action PutInRoom(agent-1,ball-1,0)
                                        action PickUp(agent-1,ball-0)
                                action GoToInRoom(agent-1,door-0,0)
                        action Toggle(agent-1,door-0)
                action GoBtwRoom(agent-1,0,1)
        action PutNearInRoom(agent-1,ball-0,ball-1,1)
