fallback
    condition IsHolding(agent-0,ball-0)
    sequence
        condition CanGoTo(ball-0) & IsHandEmpty(agent-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0)
        action GoToInRoom(agent-1,ball-0,0)
    sequence
        fallback
            condition IsHandEmpty(agent-0) & IsHolding(agent-1,ball-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0)
            sequence
                fallback
                    condition IsHandEmpty(agent-0) & IsHandEmpty(agent-1) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                    sequence
                        condition IsHandEmpty(agent-0) & IsHolding(agent-1,box-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                        action PutInRoom(agent-1,box-0,0)
                    sequence
                        condition IsHandEmpty(agent-0) & IsHolding(agent-1,box-1) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                        action PutInRoom(agent-1,box-1,0)
                action PickUp(agent-1,ball-0)
        action PutInRoom(agent-1,ball-0,0)
    sequence
        condition CanGoTo(ball-0) & IsHolding(agent-0,box-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0)
        action GoToInRoom(agent-1,ball-0,0)
    sequence
        fallback
            condition IsHolding(agent-0,box-0) & IsHolding(agent-1,ball-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0)
            sequence
                fallback
                    condition IsHandEmpty(agent-1) & IsHolding(agent-0,box-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                    sequence
                        condition IsHolding(agent-0,box-0) & IsHolding(agent-1,box-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                        action PutInRoom(agent-1,box-0,0)
                    sequence
                        condition IsHolding(agent-0,box-0) & IsHolding(agent-1,box-1) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                        action PutInRoom(agent-1,box-1,0)
                action PickUp(agent-1,ball-0)
        action PutInRoom(agent-1,ball-0,0)
    sequence
        condition CanGoTo(ball-0) & IsHolding(agent-0,box-1) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0)
        action GoToInRoom(agent-1,ball-0,0)
    sequence
        fallback
            condition IsHolding(agent-0,box-1) & IsHolding(agent-1,ball-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0)
            sequence
                fallback
                    condition IsHandEmpty(agent-1) & IsHolding(agent-0,box-1) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                    sequence
                        condition IsHolding(agent-0,box-1) & IsHolding(agent-1,box-0) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                        action PutInRoom(agent-1,box-0,0)
                    sequence
                        condition IsHolding(agent-0,box-1) & IsHolding(agent-1,box-1) & IsInRoom(agent-0,0) & IsInRoom(agent-1,0) & IsNear(agent-1,ball-0)
                        action PutInRoom(agent-1,box-1,0)
                action PickUp(agent-1,ball-0)
        action PutInRoom(agent-1,ball-0,0)
