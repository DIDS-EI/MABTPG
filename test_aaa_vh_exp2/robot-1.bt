fallback
    condition IsIn(cutlets,microwave) & IsSwitchedOn(microwave)
    fallback
        sequence
            condition IsSelfTask(frozenset({'IsIn(cutlets,microwave)'}))
            action WalkToPutCutletsInMicrowave()
            action FinishTask()
        sequence
            fallback
                condition IsOpen(microwave) & IsRightHandEmpty(agent-1) & IsSwitchedOn(microwave)
                fallback
                    sequence
                        condition IsSelfTask(frozenset({'IsOpen(microwave)'}))
                        action WalkToOpenMicrowave()
                        action FinishTask()
                    sequence
                        condition IsClose(microwave) & IsLeftHandEmpty(agent-1) & IsRightHandEmpty(agent-1) & IsSwitchedOn(microwave)
                        action SelfAcceptTask(frozenset({'IsOpen(microwave)'}))
            action SelfAcceptTask(frozenset({'IsIn(cutlets,microwave)'}))
    sequence
        condition IsNear(agent-1,microwave) & IsOpen(microwave) & IsRightHolding(agent-1,cutlets) & IsSwitchedOn(microwave)
        action RightPutIn(agent-1,cutlets,microwave)
    fallback
        condition IsIn(cutlets,microwave) & IsLeftHandEmpty(agent-0) & IsSwitchedOff(microwave)
        fallback
            sequence
                condition IsSelfTask(frozenset({'IsIn(cutlets,microwave)'}))
                action WalkToPutCutletsInMicrowave()
                action FinishTask()
            sequence
                fallback
                    condition IsLeftHandEmpty(agent-0) & IsOpen(microwave) & IsRightHandEmpty(agent-1) & IsSwitchedOff(microwave)
                    fallback
                        sequence
                            condition IsSelfTask(frozenset({'IsOpen(microwave)'}))
                            action WalkToOpenMicrowave()
                            action FinishTask()
                        sequence
                            condition IsClose(microwave) & IsLeftHandEmpty(agent-0) & IsLeftHandEmpty(agent-1) & IsRightHandEmpty(agent-1) & IsSwitchedOff(microwave)
                            action SelfAcceptTask(frozenset({'IsOpen(microwave)'}))
                action SelfAcceptTask(frozenset({'IsIn(cutlets,microwave)'}))
        sequence
            condition IsLeftHandEmpty(agent-0) & IsNear(agent-1,microwave) & IsOpen(microwave) & IsRightHolding(agent-1,cutlets) & IsSwitchedOff(microwave)
            action RightPutIn(agent-1,cutlets,microwave)
